<!DOCTYPE html> 
<html> 
<head> 	
		<link rel="canonical" href="https://niallzato.github.io" />

    </head> 
<body> 
	
<iframe src="https://player.vimeo.com/video/76979871" width="640" height="360" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>
<script src="https://player.vimeo.com/api/player.js"></script>
<script>
  !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on","addSourceMiddleware","addIntegrationMiddleware","setAnonymousId","addDestinationMiddleware"];analytics.factory=function(t){return function(){if(window.analytics.initialized)return window.analytics[t].apply(window.analytics,arguments);var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var key=analytics.methods[t];analytics[key]=analytics.factory(key)}analytics.load=function(key,t){var e=document.createElement("script");e.type="text/javascript";e.async=!0;e.src="https://cdn.segment.com/analytics.js/v1/" + key + "/analytics.min.js";var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(e,i);analytics._loadOptions=t};analytics._writeKey="GDCy7RQCaQBWDUitd4Z8XaHC7Erp17lj";;analytics.SNIPPET_VERSION="4.16.0";
  analytics.load("GDCy7RQCaQBWDUitd4Z8XaHC7Erp17lj");
  analytics.page();
  }}();
</script>
<script>
 analytics.ready(function() {
    var oldID= '1d5cf022170856e315944f873e1ec055';
    var iframe = document.querySelector('iframe');
    var player = new Vimeo.Player(iframe);
    var VimeoAnalytics = window.analytics.plugins.VimeoAnalytics
    var vimeoAnalytics = new VimeoAnalytics(player, '1d5cf022170856e315944f873e1ec055')
    vimeoAnalytics.initialize()	
  });
// 	var counter = 1;
// 	const interval = setInterval(function() {
// 	//analytics.track("in loop:"+counter);
// 	counter++;	
// 	}, 1000);
	
var myanon;	
	
exponentialBackoff(segmentReady, 10, 100, function(result) {
    console.log('the result is',result);
});

// A function that keeps trying, "toTry" until it returns true or has
// tried "max" number of times. First retry has a delay of "delay".
// "callback" is called upon success.
function exponentialBackoff(toTry, max, delay, callback) {
    console.log('max',max,'next delay',delay);
    var result = toTry();
    console.log(result);
    if (result) {
	myanon = analytics.user().anonymousId();
        callback(result);
    } else {
        if (max > 0) {
            setTimeout(function() {
                exponentialBackoff(toTry, --max, delay * 2, callback);
            }, delay);

        } else {
             console.log('we give up');   
        }
    }
}

function segmentReady() {
    return typeof analytics.user === 'function'
}
		
</script>
	
    <div id="target-container">
    </div>
	
	<div id="player"></div>

    <script>
//       // 2. This code loads the IFrame Player API code asynchronously.
//       var tag = document.createElement('script');

//       tag.src = "https://www.youtube.com/iframe_api";
//       var firstScriptTag = document.getElementsByTagName('script')[0];
//       firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

//       // 3. This function creates an <iframe> (and YouTube player)
//       //    after the API code downloads.
// 	var player;
//       function onYouTubeIframeAPIReady() {
//               player = new YT.Player('player', {
//               height: '390',
//               width: '640',
//               videoId: 'M7lc1UVf-VE'
//         });
// 	      analytics.ready(function () {
// 	    var ytAnalytics = new window.analytics.plugins.YouTubeAnalytics(player, 'XXXXXXXXXXXXXXXXXXXXXXXXXXXX0365')
// 	   ytAnalytics.initialize()
//       })}
	    
    </script>
	
    <div>
	    

        
        <h1 id="my_custom_link">What is your favorite place to travel?</h1> 
        <a onClick='analytics.track("test")' id="click-test" href="http://niallzato.github.io"> my site</a>
        <p>I am building a directory of the sweetest travel destinations.</p>
            <a href="http://www.example.com" onclick="captureOutboundLink('http://www.example.com'); return false;">Check out example.com</a>
        <form name="travel" onsubmit="identify(event)">
             What is your favorite travel destination?
            <input name="destination" required="" size="81" type="text"/> 
            <br><br><br> 
            Any recommendations (cool things to do, places to visit or restaurants to eat)? 
            <br><br> 
            <textarea cols="81" name="details" required="" rows="10">
            </textarea> 
            <br><br> 
            Name: <input name="fullname" required="" size="75" type="text"/> 
            <br><br> 
            Email: <input name="email" required="" size="75" type="email"/> 
            <br><br>
            <input name="submit" type="submit" value="submit"/>
        </form> 
	    
	    <button id="my_custom_link">Click me</button>
	    <a href="https://niallzato.github.io/redirect.html" id="free-trial-link">redirect</a>
	    
	    <div class="footer-content">
        <ul>
        <li><a id="testlink" class="footer-content-item" href="/amenities">AMENITIES</a></li>
        <li><a class="footer-content-item" href="/floorplan">FLOORPLANS</a></li>
       <li><a class="footer-content-item" href="/neighborhood">NEIGHBORHOOD</a></li>
        <li><a class="footer-content-item" href="/scheduletour">SCHEDULE A TOUR</a></li>
        <li><a class="footer-content-item" href="/contact">CONTACT</a></li>
        <ul>
    </div>
	    
    </div>	    	    
		    
    </body> 
</html>
